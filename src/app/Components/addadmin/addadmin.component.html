<app-adminheader></app-adminheader>


<div>
    <span>
        <h2><u>{{header_text}}</u> </h2>
      </span>
</div>

<form [formGroup]="addAdminForm" class="formcls"> 

    <mat-form-field>
      <input matInput type="text" placeholder="First Name" formControlName="firstname" (blur)="inputUntouched('firstname')">
      <mat-error
        *ngIf="!addAdminForm.controls['firstname'].valid && addAdminForm.controls['firstname'].errors.required && addAdminForm.controls['firstname'].touched">
        First Name field can not be blank</mat-error>
    </mat-form-field>


    <mat-form-field>
      <input matInput type="text" placeholder="Last Name" formControlName="lastname" (blur)="inputUntouched('lastname')">
      <mat-error
        *ngIf="!addAdminForm.controls['lastname'].valid && addAdminForm.controls['lastname'].errors.required && addAdminForm.controls['lastname'].touched">
        Last Name field can not be blank</mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput type="text" placeholder="Email" formControlName="email" (blur)="inputUntouched('email')">
      <mat-error
        *ngIf="!addAdminForm.controls['email'].valid && addAdminForm.controls['email'].errors.required && addAdminForm.controls['email'].touched">
        Email field can not be blank</mat-error>
      <mat-error *ngIf="!addAdminForm.controls['email'].valid && !addAdminForm.controls['email'].errors.required">Email is
        not valid</mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput type="text" placeholder="Phone Number" formControlName="phone" (blur)="inputUntouched('phone')">
      <mat-error
        *ngIf="!addAdminForm.controls['phone'].valid && addAdminForm.controls['phone'].errors.required && addAdminForm.controls['phone'].touched">
        Phone Number field can not be blank</mat-error>
    </mat-form-field>
    
    <mat-form-field *ngIf="router.url == '/admin/add'">
      <input matInput placeholder="Password" type="password" formControlName="password" (blur)="inputUntouched('password')">
      <mat-error
        *ngIf="!addAdminForm.controls['password'].valid && addAdminForm.controls['password'].errors.required && addAdminForm.controls['password'].touched">
        Password field can not be blank</mat-error> 
    </mat-form-field>

    <mat-form-field *ngIf="router.url == '/admin/add'">
    <input matInput placeholder="Confirm Password" type="password" formControlName="conpass" (blur)="inputUntouched('conpass')">
    <mat-error  *ngIf="!addAdminForm.controls['conpass'].valid && addAdminForm.controls['conpass'].errors.required && addAdminForm.controls['conpass'].touched">
        Confirm Password field can not be blank</mat-error>
    <mat-error *ngIf="!addAdminForm.controls['conpass'].valid && addAdminForm.controls['conpass'].touched">Password does not match </mat-error>
    </mat-form-field>



      <mat-form-field>
        <mat-label>State</mat-label>
        <mat-select formControlName="state" (blur)="inputUntouched('state')" (selectionChange)="getCity($event.value);">
          <mat-option [value]=0>Select a state</mat-option>
          <mat-option *ngFor="let state of stateList;" value="{{ state.name }}">{{ state.name }}</mat-option>
        </mat-select>
        <mat-error
            *ngIf="!addAdminForm.controls['state'].valid && addAdminForm.controls['state'].errors.required && addAdminForm.controls['state'].touched">
            State field can not be blank</mat-error>
      </mat-form-field>


      <mat-form-field>
        <mat-label>City</mat-label>
        <mat-select formControlName="city" (blur)="inputUntouched('city')" >
          <mat-option [value]=0>Select a city</mat-option>
          <mat-option *ngFor="let city of allCities;" value="{{ city }}">
              {{ city }}</mat-option>
        </mat-select>
        <mat-error
          *ngIf="!addAdminForm.controls['city'].valid && addAdminForm.controls['city'].errors.required && addAdminForm.controls['city'].touched">
          City field can not be blank</mat-error>
      </mat-form-field>
      

      <mat-form-field>
        <input matInput placeholder="Zip Code" type="text" formControlName="zip" (blur)="inputUntouched('zip')">
        <mat-error
          *ngIf="!addAdminForm.controls['zip'].valid && addAdminForm.controls['zip'].errors.required && addAdminForm.controls['zip'].touched">
          Zip field can not be blank</mat-error>
      </mat-form-field>

      <span class="bottompart">           
          <button mat-raised-button  type="button'" color="primary"
           (click)="addAdminFormSubmit()">{{btn_text}}</button> 
      </span>
  </form>


<app-footer></app-footer>
